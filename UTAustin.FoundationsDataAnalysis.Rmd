---
title: "EdX"
author: "Anita Owens"
date: "February 9, 2016"
output: html_document
---
UTAustinX: UT.7.10x Foundations of Data Analysis - Part 1
Subsetting: http://www.statmethods.net/management/subset.html
```{r}
setwd("/Users/anitaowens/Documents/R")
install.packages("SDSFoundations")
library("SDSFoundations")
bike<-read.csv("BikeData.csv")
```
Prepare for the Analysis
```{r}
# Find the number of students in the dataset
table(bike$student)
#14 students

# Pull out student data into a new dataframe
student <-bike[bike$student==1,]

# Find how often the students ride, using the new dataframe
table(student$cyc_freq)
 #Daily  Less than once a month 
 #                     8                       0 
#Several times per month  Several times per week 
  #                    0                       6 

# Create a vector for the distance variable
distance <-student$distance
#[1]  3.25 10.94  9.34  1.25  9.29  2.77  4.84  6.56  0.85  6.07  3.52
#[12] 13.43  7.19  8.31

# Find average distance ridden
mean(distance)
#6.257857

```
Select the question that will require subsetting the data.
```{r}
riders<-BikeData[ which(BikeData$cyc_freq=="Daily"),]
nrow(riders)
```

What is the average age of daily riders? 
```{r}
mean(riders$age)
round(mean(riders$age), digits = 1)
```
How many of the daily riders are male?
```{r}
sum(with(riders, gender=="M"))
sum(with(riders, gender=="F"))
```
What is the average age of the female daily riders? (Round to 1 decimal place)
```{r}
female<-riders[ which(riders$gender=="F"),]
round(mean(female$age), digits = 1)
```
 What is the average age of the male daily riders? (Round to 1 decimal place.)
 
```{r}
male<-riders[ which(riders$gender=="M"),]
round(mean(male$age), digits = 1)
```
 thirty <- bike[bike$age >= 30,]
 How many daily male riders are age 30 or older?
 ```{r}
thirty<-male[male$age >= 30,]
nrow(thirty)
```
is this normal
```{r}

```
animal data
```{r}
#number of variables
ncol(AnimalData)
```
how many were adopted
```{r}
adopt<-AnimalData[1:10,]
sum(with(adopt, Outcome.Type=="Adoption"))
```
plot
```{r}
plot(AnimalData$Animal.Type, AnimalData$Weight, main="Test123")

```
comprehension check
```{r}
workers<-c(10, 2, 6, 12,   14,   15,   15,   24,   15,   25,   3,   12)

mean(workers)
round(mean(workers), digits = 1)
round(sd(workers),digits=2)
round(sd(workers),digits=1)
median(workers)
summary(workers)

range(workers, na.rm = FALSE)
IQR(workers)

plot(workers)
library(ggplot2)
overtime<-as.data.frame(workers)
ggplot(overtime, aes(x=workers)) + geom_histogram(binwidth = .5, color="black", fill="white") + geom_vline(aes(xintercept=mean(overtime, na.rm=T)), color="red", linetype="dashed", size=1)
```
AnimalData Exercises
```{r}
#Find the number of animals that were adopted
table(AnimalData$Outcome.Type)

#Pull out only adopted animals
adopted <- AnimalData[AnimalData$Outcome.Type=="Adoption",]

#Pull out just the days in shelter for the adopted animals
daystoadopt <- adopted$Days.Shelter

#Visualize and describe this variable
hist(daystoadopt)
fivenum(daystoadopt)
mean(daystoadopt)
sd(daystoadopt)
which(AnimalData$Days.Shelter==max(daystoadopt))

#. How would you describe the shape of the distribution of daystoadopt?
#positively skewed-the right tail is longer (right skewed)

IQR(daystoadopt)

mean(adopted$Days.Shelter)
#What was the z-score for this particular animal? Round to the nearest TWO decimal places.
211-mean(adopted$Days.Shelter)
round(181.7353/sd(adopted$Days.Shelter), digits = 2)
#The middle 50% of the distribution were adopted between 8 and 38 days
```
Univariate Descriptive Statistics
```{r}
#subsetting dogs
dogs<-AnimalData[ which(AnimalData$Animal.Type=='Dog' & AnimalData$Age.Intake >= 1),]
nrow(dogs)

#subsetting dats
cats<-AnimalData[ which(AnimalData$Animal.Type=='Cat' & AnimalData$Age.Intake >= 1),]
nrow(cats)
```
weight
```{r}
dogweight<-dogs$Weight
hist(dogweight)

catweight<-cats$Weight
hist(catweight)

summary(dogweight)
summary(catweight)

round(mean(catweight), digits = 1)
round(sd(catweight), digits=2)
```
What is the z-score of a 13 pound adult cat? Round to one decimal point.
```{r}
13-mean(catweight)
round(4.396429/sd(catweight), digits = 1)
```
What proportion of adult cats weigh more than 13 pounds, according to your data? Use the following code to answer this question: 1-pnorm(zcat). Replace "zcat" with your z-score for the cat. Round to three decimal places.
```{r}
zcat<-round(4.396429/sd(catweight), digits = 1)
1-pnorm(zcat)
#[1] 0.01072411
round(1-pnorm(zcat), digits = 3)
```
About 95% of adult cats at the shelter weigh between?
4.8 and 12.4lbs

 ```{r}
quantile(catweight, c(.05, .25, .5, .90, .95))
quantile(catweight, c(.00, .05, .25, .5, .90, .95, 1.00))
```
What was the most common way that dogs arrived in the shelter? (as defined by the “Intake.Type” variable)
```{r}
table(dogs$Intake.Type)
```
What proportion of dogs were brought to the shelter as an owner surrender? (Round to 3 decimal places.)
```{r}
round(58/226, digits = 3)
#answer 0.278

sdogs<-round(zscore/sd(dogs$Intake.Type), digits = 3)
1-pnorm(sdogs)

round(1-pnorm(sdogs), digits = 3)

```
Of the dogs that were brought to the shelter as an owner surrender, how many were returned to their owner?
```{r}
returndogs<-dogs[ which(dogs$Intake.Type=='Owner Surrender' & dogs$Outcome.Type == "Return to Owner"),]
nrow(returndogs)

```
Question3
```{r}
x<-c(2,2,3,5,6,7,9,14,15,18)
y<-c(2,2,3,5,6,8,9,14,15,18)
```
Week 3 Bivariate Data
```{r}
#import data
BullRiders<-read.csv("BullRiders.csv")
```
Info about the dataset
```{r}
nrow(BullRiders)
```
How many of the first 10 riders in the dataset have been pro for 10 years or more?
```{r}
head(BullRiders)
pro<-BullRiders[1:10,]
plus10<-pro[ which(pro$YearsPro >= 10),]
nrow(plus10)
```
Of the top 15 riders so far in 2015, how many rides were completed by the rider with the fewest buck-outs in 2014?
```{r}
names(BullRiders)
top15<-BullRiders[1:15,]
buck2014<-subset(top15, select=c(Rider, Rank15, BuckOuts14, Rides14))
#sort from lowest to highest
```
Breakdown of Analysis
```{r}
#import data
Bull<-read.csv("BullRiders.csv")
#Subset for riders that participated in at least one event in 2013
new_bull <- bull[bull$Events13  > 0 ,]

# Visualize and describe the first variable of interest
hist(new_bull$Rides13)
fivenum(new_bull$Rides13)
mean(new_bull$Rides13)
sd(new_bull$Rides13)

# Visualize and describe the second variable of interest
hist(new_bull$Top10_13)
fivenum(new_bull$Top10_13)
mean(new_bull$Top10_13)
sd(new_bull$Top10_13)

# Create a scatterplot
plot(new_bull$Rides13,new_bull$Top10_13)

# Add line of best fit
abline(lm(new_bull$Top10_13~new_bull$Rides13))

# Calculate the correlation coefficient
cor(new_bull$Rides13,new_bull$Top10_13)

# Create a correlation matrix 
vars <- c("Top10_13", "Rides13")
cor(new_bull[,vars])
```

